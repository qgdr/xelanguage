# Xelanguge

Xelanguage 是一个类似 Rust 的面向对象编的译型语言。
用于 ~~取代C语言~~ 学习编译原理。

## 项目初始化

- 安装 `uv`, `llvm`
- 进入当前目录
    `uv sync`
- `python ./compiler/xec.py ./tests/stage01/main.xe`

## 特点

* 类型声明后置。
* 保留了 C 语言中的指针概念，取地址符 `@` 后置。
* 吸收了 Rust 的所有权概念，`=` 代表内存复制操作，`<-` 代表移动操作。
* 根据是否定义 *析构函数* `drop Trait`，采取不同的变量赋值方式。
    * 未定义 *析构函数*：
        * 使用 `=` 进行复制。
    * 定义了 *析构函数*：
        * 只能使用 `<-` 进行移动。
* `<-` 可以用于引用类型，相当于 C++ 中的 `std::move`，引用类型一旦被移动，原位置立即销毁。
    所有定义了 *析构函数* 的结构体 **只能** 使用 `<-`。
* 引用类型可以显示的调用`let b <- a.clone()` 方法（如果实现了该 `Trait`）。
* 定义了析构函数的类型使用 `=` 赋值时，直接报错。
* 只有当切片内部元素是基本类型的时候可以用`=`赋值。

## 当前阶段

stage04

